<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Dashboard — Controle Financeiro</title>
<link rel="stylesheet" href="assets/css/styles.css">
<script defer src="assets/js/app.js"></script>
<script defer>
document.addEventListener('DOMContentLoaded', async ()=>{
  await setupNav('dashboard');
  const r = await api('api/resumo.php');
  document.getElementById('saldo').textContent = r ? ('R$ ' + Number(r.saldo||0).toFixed(2).replace('.',',')) : 'R$ 0,00';
  document.getElementById('receitas').textContent = r ? ('R$ ' + Number(r.receitas_mes||0).toFixed(2).replace('.',',')) : 'R$ 0,00';
  document.getElementById('despesas').textContent = r ? ('R$ ' + Number(r.despesas_mes||0).toFixed(2).replace('.',',')) : 'R$ 0,00';
});
</script>
</head>
<body>
<div id="nav"></div>
<main class="container">
  <h2>Dashboard</h2>
  <div class="grid cols-3">
    <div class="card metric"><span>Saldo total</span><div class="value" id="saldo">R$ 0,00</div></div>
    <div class="card metric"><span>Receitas (mês)</span><div class="value pos" id="receitas">R$ 0,00</div></div>
    <div class="card metric"><span>Despesas (mês)</span><div class="value neg" id="despesas">R$ 0,00</div></div>
  </div>
</main>
</body>
</html>
